<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>SE and MAE retrieval · MicrobiomeAnalysis.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../readme/">MicrobiomeAnalysis.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../readme/">Home</a></li><li><a class="tocitem" href="../">Manual</a></li><li><span class="tocitem">Tutorial</span><ul><li><a class="tocitem" href="../example1/">SE construction and analysis</a></li><li><a class="tocitem" href="../example2/">MAE construction and manipulation</a></li><li class="is-active"><a class="tocitem" href>SE and MAE retrieval</a><ul class="internal"><li><a class="tocitem" href="#Importing-SE"><span>Importing SE</span></a></li><li><a class="tocitem" href="#Importing-MAE"><span>Importing MAE</span></a></li><li><a class="tocitem" href="#Retrieval-of-readily-available-datasets"><span>Retrieval of readily available datasets</span></a></li></ul></li><li><a class="tocitem" href="../example4/">CommunityProfile conversion</a></li><li><a class="tocitem" href="../example5/">Methods for real data</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorial</a></li><li class="is-active"><a href>SE and MAE retrieval</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>SE and MAE retrieval</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaTurkuDataScience/MicrobiomeAnalysis.jl/blob/main/docs/src/example3.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tutorial-3:-Import-data-containers-from-csv-files"><a class="docs-heading-anchor" href="#Tutorial-3:-Import-data-containers-from-csv-files">Tutorial 3: Import data containers from csv files</a><a id="Tutorial-3:-Import-data-containers-from-csv-files-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial-3:-Import-data-containers-from-csv-files" title="Permalink"></a></h1><p>SummarizedExperiment and MultiAssayExperiment containers can be imported from R as a collection of csv files.</p><h2 id="Importing-SE"><a class="docs-heading-anchor" href="#Importing-SE">Importing SE</a><a id="Importing-SE-1"></a><a class="docs-heading-anchor-permalink" href="#Importing-SE" title="Permalink"></a></h2><p>In this example, the R-native OKeefeDSData dataset is first disassembled into its components, which are saved as csv files. Next, these files are read in Julia and re-assembled into a SummarizedExperiment.</p><p>In R, you can adjust the code below to retrieve the se and split it into three csv files, which contain the assays, the rowdata and the coldata, respectively.</p><pre><code class="language-r hljs"># R

# load OKeefeDSData container
library(microbiomeDataSets)
se &lt;- OKeefeDSData()

# store assays, coldata and rowdata into variables
assays &lt;- assays(se)
coldata &lt;- colData(se)
rowdata &lt;- rowData(se)

# write out csv files with assays, rowdata and coldata, respectively
write.csv(assays, &quot;DS_assays.csv&quot;)
write.csv(rowdata, &quot;DS_rowdata.csv&quot;)
write.csv(coldata,&quot;DS_coldata.csv&quot;)</code></pre><p>In Julia, it is necessary to pass the paths to the three files to the <code>import_se_from_csv</code> function, keeping in mind the correct order.</p><pre><code class="language-julia hljs"># Julia

# assemble se from csv files
import_se_from_csv(&quot;DS_assays.csv&quot;,
                   &quot;DS_rowdata.csv&quot;,
                   &quot;DS_coldata.csv&quot;)</code></pre><h2 id="Importing-MAE"><a class="docs-heading-anchor" href="#Importing-MAE">Importing MAE</a><a id="Importing-MAE-1"></a><a class="docs-heading-anchor-permalink" href="#Importing-MAE" title="Permalink"></a></h2><p>Similarly, the HintikkaXOData container can be exported from R to Julia as an analogous MultiAssayExperiment object.</p><p>This time, the container needs to be divided into one assay file for each experiment within the mae. That is, if a mae contains three experiments, such as HintikkaXOData, then three different assay files need to be generated. In addition, the sample data and the sample map also go to make one csv file each.</p><pre><code class="language-r hljs"># R

# load HintikkaXOData container
library(microbiomeDataSets)
mae &lt;- HintikkaXOData()

# split mae into se elements
se1 &lt;- mae[[&quot;microbiota&quot;]]
se2 &lt;- mae[[&quot;metabolites&quot;]]
se3 &lt;- mae[[&quot;biomarkers&quot;]]

# store assays of respective se into variables
microbiota_assays &lt;- assays(se1)
metabolites_assays &lt;- assays(se2)
biomarkers_assays &lt;- assays(se3)

# write out csv files with assays
write.csv(microbiota_assays, &quot;XO_microbiota_assays.csv&quot;)
write.csv(metabolites_assays, &quot;XO_metabolites_assays.csv&quot;)
write.csv(biomarkers_assays, &quot;XO_biomarkers_assays.csv&quot;)

# write out csv files with sample data and sample map, respectively
write.csv(colData(mae), &quot;XO_sample_data.csv&quot;)
write.csv(sampleMap(mae),&quot;XO_sample_map.csv&quot;,
          row.names = FALSE)</code></pre><p>As in the previous case, the csv files are re-assembled into a mae in Julia. The paths to the assay files should be provided to <code>import_mae_from_csv</code> as a list in the first argument, followed by sample data and sample map file paths. Also, the optional argument <code>experiment_names</code> lets you choose custom names for the experiments.</p><pre><code class="language-julia hljs"># Julia

# make a list with the paths to the assays files
experiment_files = [&quot;XO_microbiota_assays.csv&quot;,
                    &quot;XO_metabolites_assays.csv&quot;,
                    &quot;XO_biomarkers_assays.csv&quot;]

# make a list with custom names for the experiments
experiment_names = [&quot;microbiota&quot;, &quot;metabolites&quot;, &quot;biomarkers&quot;]

# assemble mae from csv files
mae = import_mae_from_csv(experiment_files,
                          &quot;XO_sample_data.csv&quot;,
                          &quot;XO_sample_map.csv&quot;,
                          experiment_names = experiment_names)</code></pre><h2 id="Retrieval-of-readily-available-datasets"><a class="docs-heading-anchor" href="#Retrieval-of-readily-available-datasets">Retrieval of readily available datasets</a><a id="Retrieval-of-readily-available-datasets-1"></a><a class="docs-heading-anchor-permalink" href="#Retrieval-of-readily-available-datasets" title="Permalink"></a></h2><p>It is also possible to get started with a ready-made experiment and try to perform analysis on it. The following studies come pre-installed with this package:</p><ul><li><a href="https://www.mdpi.com/1660-4601/18/8/4049">HintikkaXOData</a></li><li><a href="https://dx.doi.org/10.1038/ncomms7342">OKeefeDSData</a></li></ul><p>In order to retrieve a specific experiment, a function with the same name is called. This returns the experiment itself, which can be stored into a variable and investigated further.</p><pre><code class="language-julia hljs">mae = HintikkaXOData()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">MultiAssayExperiment object
  experiments(3): microbiota metabolites biomarkers
  sampledata(7): name Sample ... Fat XOS
  metadata(0):</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../example2/">« MAE construction and manipulation</a><a class="docs-footer-nextpage" href="../example4/">CommunityProfile conversion »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.19 on <span class="colophon-date" title="Monday 27 June 2022 02:33">Monday 27 June 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
